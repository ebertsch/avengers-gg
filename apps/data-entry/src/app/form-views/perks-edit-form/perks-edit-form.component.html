<mat-expansion-panel class="information-panel" *ngIf="!!formValue.getRawValue().id" [expanded]="true">
  <mat-expansion-panel-header>Information</mat-expansion-panel-header>
  <div>Is on {{ onGearCount(formValue.getRawValue(), gear) }} pieces of Gear</div>
  <div>
    Appears on gear for {{ appearsForHero(formValue.getRawValue(), gear).join(', ') }}
    <button mat-button color="primary" (click)="setPerkForAll()">Set to *</button>
    <button mat-button color="primary" (click)="setPerkForSelect(appearsForHero(formValue.getRawValue(), gear))">Limit to these heroes</button>
  </div>
  <div>Used in Slot 1: {{onGearCount(formValue.getRawValue(), gear, ['perks1'])}} <button mat-button (click)="limitToSlot(3)">Limit to Slot</button></div>
  <div>Used in Slot 2: {{onGearCount(formValue.getRawValue(), gear, ['perks2'])}} <button mat-button (click)="limitToSlot(3)">Limit to Slot</button></div>
  <div>Used in Slot 3: {{onGearCount(formValue.getRawValue(), gear, ['perks3'])}} <button mat-button (click)="limitToSlot(3)">Limit to Slot</button></div>
</mat-expansion-panel>

<form [formGroup]="formValue">
  <mat-form-field appearance="fill" *ngIf="!!formValue.getRawValue().id">
    <mat-label>ID</mat-label>
    <input formControlName="id" matInput [value]="value.id">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Hero</mat-label>
    <mat-select formControlName="heroes" multiple>
      <mat-option [value]="null">Not set</mat-option>
      <mat-option [value]="'*'">*</mat-option>
      <mat-option *ngFor="let hero of heroService.entities$ | async" [value]="hero.id">
        {{hero.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Set Title</mat-label>
    <input formControlName="title" matInput [value]="value.title">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Description</mat-label>
    <input formControlName="description" matInput [value]="value.description">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Gear Slots</mat-label>
    <mat-select formControlName="gear" multiple>
      <mat-option [value]="null">Not set</mat-option>
      <mat-option [value]="'melee'">Melee</mat-option>
      <mat-option [value]="'ranged'">Ranged</mat-option>
      <mat-option [value]="'defense'">Defense</mat-option>
      <mat-option [value]="'heroic'">Heroic</mat-option>
      <mat-option [value]="'majorArtifact'">Major Artifact</mat-option>
      <mat-option [value]="'minorArtifact'">Minor Artifact</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-checkbox formControlName="gearSpecific">Gear Specific</mat-checkbox>
  <mat-checkbox formControlName="slot1Enabled">Enabled for first slot</mat-checkbox>
  <mat-checkbox formControlName="slot2Enabled">Enabled for second slot</mat-checkbox>
  <mat-checkbox formControlName="slot3Enabled">Enabled for third slot</mat-checkbox>
</form>