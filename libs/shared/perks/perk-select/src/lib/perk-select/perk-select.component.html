<div class="values-container" *ngIf="value">
    <ng-container *ngIf="!allowMultiple; else listMultiple">
        <ng-container *ngIf="value">
            <div class="value-display">
                <div>{{ (this.perkService.entityMap$ | async)[value].title }}</div>
                <mat-icon class="clear-button" (click)="clearValue(value)" *ngIf="value">clear</mat-icon>
            </div>
        </ng-container>
    </ng-container>
    <ng-template #listMultiple>
        <div class="value-display" *ngFor="let perk of value">
            <div>{{ (this.perkService.entityMap$ | async)[perk].title }}</div>
            <mat-icon class="clear-button" (click)="clearValue(perk)" *ngIf="value">clear</mat-icon>
        </div>
    </ng-template>
</div>
<input (click)="onFocus()" #inputField="matInput" type="text" [ngStyle]="inputStyle" [disabled]="disabled" matInput [matAutocomplete]="auto">
<mat-autocomplete class="mat-perk-option" #auto="matAutocomplete" (optionSelected)="perkSelected($event, inputField)">
    <mat-option *ngFor="let perk of perks$ | async | sortBy:'title'" [value]="perk">
        <span class="title">{{perk.title}}</span>
        <span class="description">{{perk.description}}</span>
    </mat-option>
</mat-autocomplete>