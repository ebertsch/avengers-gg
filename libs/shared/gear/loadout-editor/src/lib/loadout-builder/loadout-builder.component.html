<div class="mobile-gear-selector">
    <div class="trigger" (click)="gearMenuOpen = !gearMenuOpen">Gear Slots</div>
    <ol class="options" [ngClass]="{open: gearMenuOpen}">
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.melee}' [routerLink]="[]" [queryParams]="{g:'m', v: 'viewer'}"
                queryParamsHandling="merge" routerLinkActive="active">Melee</a></li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.ranged}' [routerLink]="[]" [queryParams]="{g:'r', v: 'viewer'}"
                queryParamsHandling="merge" routerLinkActive="active">Ranged</a></li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.defense}' [routerLink]="[]" [queryParams]="{g:'d', v: 'viewer'}"
                queryParamsHandling="merge" routerLinkActive="active">Defense</a></li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.heroic}' [routerLink]="[]" [queryParams]="{g:'h', v: 'viewer'}"
                queryParamsHandling="merge" routerLinkActive="active">Heroic</a></li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.majorArtifact}' [routerLink]="[]"
                [queryParams]="{g:'a', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">Major Artifact</a></li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.minorArtifact1}' [routerLink]="[]"
                [queryParams]="{g:'ma1', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">Minor Artifact 1</a>
        </li>
        <li (click)="gearMenuOpen = false"><a class="" [ngClass]='{empty: !loadout.minorArtifact2}' [routerLink]="[]"
                [queryParams]="{g:'ma2', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">Minor Artifact 2</a>
        </li>

    </ol>
</div>
<div class="editor">
    <ng-container [ngSwitch]="activeView$ | async">
        <ng-template [ngSwitchCase]="'summary'">
            <agg-loadout-summary [hero]="hero"></agg-loadout-summary>
        </ng-template>
        <ng-template [ngSwitchCase]="'viewer'">
            <agg-gear-instance-viewer (removed)="removeGearInstance()" [activeGear]="activeGear$ | async" [hero]="hero" [gearSlot]="gearSlot">
            </agg-gear-instance-viewer>
        </ng-template>
        <ng-template [ngSwitchCase]="'editor'">
            <agg-gear-instance-editor (removed)="removeGearInstance()" (saved)="saveGearInstance($event)"
                [activeGear]="activeGear$ | async" [hero]="hero" [gearSlot]="gearSlot"></agg-gear-instance-editor>
        </ng-template>
    </ng-container>
</div>

<a class="slot-container melee" [ngClass]='{empty: !loadout.melee}' [routerLink]="[]"
    [queryParams]="{g:'m', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/melee-icon.png" />
    </div>
</a>
<a class="slot-container ranged" [ngClass]='{empty: !loadout.ranged}' [routerLink]="[]"
    [queryParams]="{g:'r', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/ranged-icon.png" />
    </div>
</a>
<a class="slot-container defense" [ngClass]='{empty: !loadout.defense}' [routerLink]="[]"
    [queryParams]="{g:'d', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/defense-icon.png" />
    </div>
</a>
<a class="slot-container heroic" [ngClass]='{empty: !loadout.heroic}' [routerLink]="[]"
    [queryParams]="{g:'h', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/heroic-icon.png" />
    </div>
</a>
<a class="slot-container major-artifact" [ngClass]='{empty: !loadout.majorArtifact}' [routerLink]="[]"
    [queryParams]="{g:'a', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/major-artifact-icon.png" />
    </div>
</a>
<a class="slot-container minor-artifact-1" [ngClass]='{empty: !loadout.minorArtifact1}' [routerLink]="[]"
    [queryParams]="{g:'ma1', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/minor-artifact-icon.png" />
    </div>
</a>
<a class="slot-container minor-artifact-2" [ngClass]='{empty: !loadout.minorArtifact2}' [routerLink]="[]"
    [queryParams]="{g:'ma2', v: 'viewer'}" queryParamsHandling="merge" routerLinkActive="active">
    <div class="slot">
        <img src="/assets/images/minor-artifact-icon.png" />
    </div>
</a>